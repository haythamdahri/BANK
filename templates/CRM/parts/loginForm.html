{% load staticfiles %}
{% load widget_tweaks %}

<form action="{% url 'crm:login' %}" method="POST">
    {% csrf_token %}

    <div class="form-group">
        <label class="label">Email</label>
        <div class="input-group">

            {% if login_form.email.errors %}
                {% render_field login_form.email style='border: 1px solid red' %}
            {% else %}
                {% render_field login_form.email %}
            {% endif %}

            <div class="input-group-append">
                      <span class="input-group-text">
                        <i class="mdi mdi-check-circle-outline"></i>
                      </span>
            </div>
        </div>
    </div>
    <div class="form-group">
        <label class="label">Mot de passe</label>
        <div class="input-group">

            {% if login_form.password.errors %}
                {% render_field login_form.password style='border: 1px solid red' %}
            {% else %}
                {% render_field login_form.password %}
            {% endif %}

            <div class="input-group-append">
                      <span class="input-group-text">
                        <i class="mdi mdi-check-circle-outline"></i>
                      </span>
            </div>
        </div>

        {% if request.GET.next %}
            <div class="input-group">
                <input type="hidden" name="next" value="{{ request.GET.next }}" />
            </div>
        {% endif %}

    </div>
    <div class="form-group">
        <button class="btn btn-primary submit-btn btn-block">Se connecter</button>
    </div>
</form>